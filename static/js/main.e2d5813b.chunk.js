(this["webpackJsonpreactjs-ecommerce"]=this["webpackJsonpreactjs-ecommerce"]||[]).push([[0],{68:function(e,t,c){},69:function(e,t,c){},97:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),i=c(24),s=c.n(i),r=(c(68),c(69),c(10)),j=c(38),l=c(12),o=c(1);var b=function(e){var t=e.name,c=e.categoryId;return Object(o.jsx)(j.a.Item,{children:Object(o.jsx)(l.c,{to:"/category/".concat(c),children:t})})},d=c(20),m=c(21),u=c(62),O=n.a.createContext();function h(e){var t=e.children,c=Object(a.useState)([]),n=Object(r.a)(c,2),i=n[0],s=n[1];return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(O.Provider,{value:{items:i,addItem:function(e,t){var c={id:e.id,title:e.title,quantity:t,price:e.price,thumbnail:e.thumbnail},a=[].concat(Object(u.a)(i),[c]);s(a)},removeItem:function(e){var t=t.filter((function(t){return t.item.id!==e}));s(t)},clear:function(){s([])},isEmpty:function(){return 0===i.length},getTotalPrice:function(){return i.reduce((function(e,t){return e+parseInt(t.price)*parseInt(t.quantity)}),0)}},children:t})})}var x=function(){var e=Object(a.useContext)(O);return Object(o.jsxs)(l.b,{to:"/cart",className:"cart-widget",children:[Object(o.jsx)(d.a,{icon:m.c}),e.items.length>0&&Object(o.jsx)("div",{class:"cart-widget-item-count",children:e.items.length})]})},p=c(63),f=c(47),v=c(59),g=c(41),N=c.n(g);var y=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){N.a.get("https://api.mercadolibre.com/sites/MLA/categories").then((function(e){return e.data})).then((function(e){n(e)}))}),[]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(p.a,{expand:"lg",children:Object(o.jsxs)(f.a,{children:[Object(o.jsx)(v.a,{children:Object(o.jsx)(l.c,{to:"/",children:"ReactBuy"})}),Object(o.jsx)(x,{})]})}),Object(o.jsx)(f.a,{children:Object(o.jsx)(j.a,{className:"mt-3",children:c.map((function(e){return Object(o.jsx)(b,{categoryId:e.id,name:e.name},e.id)}))})})]})},C=c(8),k=c(104),I=c(100),S=c(99),A=c(103);var F=function(e){var t=e.item;return Object(o.jsx)(S.a,{className:"col-3",children:Object(o.jsxs)(A.a,{className:"m-2",children:[Object(o.jsx)(A.a.Img,{variant:"top",src:t.thumbnail}),Object(o.jsxs)(A.a.Body,{children:[Object(o.jsx)(A.a.Title,{className:"item-card-title",children:t.title}),Object(o.jsx)(A.a.Text,{children:t.description}),Object(o.jsx)(l.b,{to:"/item/".concat(t.id),className:"btn btn-primary",children:"Add to cart"})]})]})})};var T=function(e){var t=e.items;return Object(o.jsx)(I.a,{children:t.map((function(e){return Object(o.jsx)(F,{item:e},e.id)}))})};var E=function(){var e=n.a.useState(void 0),t=Object(r.a)(e,2),c=t[0],i=t[1],s=n.a.useState(""),j=Object(r.a)(s,2),l=j[0],b=j[1],u=n.a.useState(!0),O=Object(r.a)(u,2),h=O[0],x=O[1],p=Object(C.h)().categoryId;return Object(a.useEffect)((function(){x(!0),function(e){return N.a.get("https://api.mercadolibre.com/sites/MLA/search?category=".concat(e)).then((function(e){return e.data.results}))}(p).then((function(e){x(!1),i(e)})).catch((function(e){x(!1),i(null),b(e)}))}),[p]),Object(o.jsxs)(f.a,{children:[h&&Object(o.jsxs)(k.a,{variant:"info",className:"mt-3",children:[Object(o.jsx)(d.a,{className:"fa-spin",icon:m.d}),Object(o.jsx)("span",{className:"m-2",children:"Loading..."})]}),!h&&!c&&Object(o.jsx)(k.a,{variant:"danger",className:"mt-3",children:Object(o.jsxs)("span",{className:"m-2",children:["An error ocurred: ",l]})}),!h&&c&&Object(o.jsx)(T,{items:c})]})},L=c(102),P=c(101);var q=function(e){var t=e.onAdd,c=e.initial,n=void 0===c?1:c,i=e.stock,s=void 0===i?10:i,j=Object(a.useState)(parseInt(n,10)),l=Object(r.a)(j,2),b=l[0],u=l[1];return Object(o.jsxs)(f.a,{children:[Object(o.jsx)(I.a,{className:"mb-2",children:Object(o.jsxs)(P.a,{className:"m-0 p-0",size:"sm",children:[Object(o.jsx)(L.a,{onClick:function(){return u(b-1)},variant:"outline-primary",disabled:b<=1,className:"col-2",children:Object(o.jsx)(d.a,{icon:m.a})})," ",Object(o.jsx)(L.a,{variant:"outline-primary",className:"col-10 item-count-number",disabled:!0,children:b})," ",Object(o.jsx)(L.a,{onClick:function(){return u(b+1)},variant:"outline-primary",disabled:b>=s,className:"col-2",children:Object(o.jsx)(d.a,{icon:m.b})})," "]})}),Object(o.jsxs)(I.a,{children:[Object(o.jsx)(L.a,{onClick:function(){return t(b)},disabled:b>s,variant:"primary",size:"lg",children:"Add to cart"})," "]})]})};var w=function(e){var t=e.item,c=n.a.useState(1),i=Object(r.a)(c,2),s=i[0],j=i[1],l=n.a.useState(!0),b=Object(r.a)(l,2),d=b[0],m=b[1],u=Object(C.g)(),h=Object(a.useContext)(O);return Object(o.jsxs)(I.a,{className:"item-detail",children:[Object(o.jsx)(S.a,{className:"col-md-5",children:Object(o.jsx)("img",{className:"img-responsive item-detail-img",src:t.thumbnail,alt:t.title})}),Object(o.jsxs)(S.a,{className:"col-md-6",children:[Object(o.jsx)("h2",{className:"item-detail-title",children:t.title}),Object(o.jsx)("p",{className:"item-detail-description",children:t.description}),Object(o.jsxs)("h3",{className:"item-detail-price",children:["$",t.price]}),d?Object(o.jsx)(q,{initial:s,onAdd:function(e){j(e),m(!1)}}):Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(I.a,{className:"mb-2",children:[Object(o.jsx)(S.a,{children:Object(o.jsx)(L.a,{className:"block-button",variant:"primary",size:"lg",block:!0,onClick:function(){h.addItem(t,s),u.push("/cart")},children:"Go to cart"})}),Object(o.jsx)(S.a,{children:Object(o.jsx)(L.a,{className:"block-button",variant:"outline-primary",size:"lg",onClick:function(){m(!0)},children:"Cancel"})})]})})]})]})};var z=function(){var e=n.a.useState(void 0),t=Object(r.a)(e,2),c=t[0],i=t[1],s=n.a.useState(""),j=Object(r.a)(s,2),l=j[0],b=j[1],u=n.a.useState(!0),O=Object(r.a)(u,2),h=O[0],x=O[1],p=Object(C.h)().itemId;return Object(a.useEffect)((function(){x(!0),function(e){return N.a.get("https://api.mercadolibre.com/items?ids=".concat(e)).then((function(e){return e.data[0].body}))}(p).then((function(e){x(!1),i(e)})).catch((function(e){i(null),b(e)}))}),[p]),Object(o.jsxs)(f.a,{children:[h&&Object(o.jsxs)(k.a,{variant:"info",className:"mt-3",children:[Object(o.jsx)(d.a,{className:"fa-spin",icon:m.d}),Object(o.jsx)("span",{className:"m-2",children:"Loading..."})]}),!h&&!c&&Object(o.jsx)(k.a,{variant:"danger",className:"mt-3",children:Object(o.jsxs)("span",{className:"m-2",children:["An error ocurred: ",l]})}),!h&&c&&Object(o.jsx)(w,{item:c})]})};function B(e){var t=e.item;return Object(o.jsxs)(I.a,{className:"cart-table-row",children:[Object(o.jsx)(S.a,{className:"col-md-1",children:Object(o.jsx)("img",{alt:t.description,className:"img-responsive cart-list-img",src:"".concat(t.thumbnail)})}),Object(o.jsx)(S.a,{className:"col-md-1 cart-col-quantity",children:t.quantity}),Object(o.jsx)(S.a,{className:"col-md-8",children:t.title}),Object(o.jsx)(S.a,{className:"col-md-2 cart-col-price",children:"$".concat(t.price*t.quantity)})]})}var M=function(){var e=Object(a.useContext)(O),t=Object(C.g)();return Object(o.jsxs)(f.a,{className:"mt-3",children:[e.isEmpty()&&Object(o.jsx)(k.a,{variant:"secondary",className:"cart-empty",children:"The cart is empty"}),!e.isEmpty()&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(I.a,{children:Object(o.jsx)(S.a,{className:"cart-table-title",children:"Your items"})}),e.items.map((function(e){return Object(o.jsx)(B,{item:e},e.id)})),Object(o.jsx)(I.a,{children:Object(o.jsx)(S.a,{className:"cart-table-total",children:"Total: $".concat(e.getTotalPrice())})}),Object(o.jsx)(I.a,{className:"mt-3",children:Object(o.jsx)(S.a,{className:"p-0",children:Object(o.jsx)(L.a,{variant:"primary",onClick:function(){t.push("/checkout")},className:"btn-lg",children:"Checkout"})})})]})]})};function $(){var e=Object(a.useContext)(O),t=Object(C.g)();return Object(o.jsx)(f.a,{children:Object(o.jsx)(I.a,{className:"mt-3",children:Object(o.jsx)(S.a,{xs:12,children:Object(o.jsx)(L.a,{variant:"primary",onClick:function(){e.clear(),t.push("/")},children:"Pay & finish"})})})})}function J(){return Object(o.jsxs)(C.d,{children:[Object(o.jsx)(C.b,{path:"/category/:categoryId",component:E}),Object(o.jsx)(C.b,{path:"/item/:itemId",component:z}),Object(o.jsx)(C.b,{path:"/cart",component:M}),Object(o.jsx)(C.b,{path:"/checkout",component:$}),Object(o.jsx)(C.b,{path:"/",children:Object(o.jsx)(C.a,{to:"/category/MLA5725"})})]})}var D=function(){return Object(o.jsx)(h,{children:Object(o.jsxs)(l.a,{children:[Object(o.jsx)(y,{}),Object(o.jsx)(J,{})]})})},G=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,105)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),i(e),s(e)}))};s.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(D,{})}),document.getElementById("root")),G()}},[[97,1,2]]]);
//# sourceMappingURL=main.e2d5813b.chunk.js.map